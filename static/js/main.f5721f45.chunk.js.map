{"version":3,"sources":["components/Snowflakes.js","assets/Present.png","game/entities/Present.js","hooks/usePresent.js","assets/Santa.png","game/entities/Player.js","game/Game.js","hooks/useScrollPercent.js","App.js","index.js"],"names":["Snowflakes","className","Present","props","top","left","resetting","style","src","PresentImage","alt","genRandomStart","offset","Math","random","usePresent","speed","useState","setResetting","position","useRef","useEffect","newStart","current","setTimeout","present","reset","moveLeft","Player","scroll","Santa","Game","min","max","listener","ratio","window","scrollY","innerHeight","lerpedRatio","addEventListener","removeEventListener","useScrollPercent","score","setScore","misses","setMisses","present1","present2","present3","rerender","interval","setInterval","checkCollision","abs","points","grabPresent","missPresent","render","clearInterval","App","id","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f5721f45.chunk.js","sourcesContent":["import './Snowflakes.css';\n\nexport const Snowflakes = () => \n    (\n    <div className=\"snowflakes\" aria-hidden=\"true\">\n        <div className=\"snowflake\">\n        ❅\n        </div>\n        <div className=\"snowflake\">\n        ❅\n        </div>\n        <div className=\"snowflake\">\n        ❆\n        </div>\n        <div className=\"snowflake\">\n        ❄\n        </div>\n        <div className=\"snowflake\">\n        ❅\n        </div>\n        <div className=\"snowflake\">\n        ❆\n        </div>\n        <div className=\"snowflake\">\n        ❄\n        </div>\n        <div className=\"snowflake\">\n        ❅\n        </div>\n        <div className=\"snowflake\">\n        ❆\n        </div>\n        <div className=\"snowflake\">\n        ❄\n        </div>\n    </div>\n);","export default __webpack_public_path__ + \"static/media/Present.79356040.png\";","import PresentImage from '../../assets/Present.png';\n\nexport const Present = (props) => {\n    const { top, left } = props;\n\n    return (\n        <div className={\"present\" + (props.resetting ? ' resetting' : '')} style={{top: `${top}%`, left: `${left}%`}}><img src={PresentImage} alt=\"present that fell of santas sleigh\" /></div>\n    );\n}","import { useEffect, useRef, useState } from \"react\";\nimport { Present } from \"../game/entities/Present\";\n\nconst genRandomStart = (offset = 0) => ({\n    left: offset + Math.random() * 25 + 100,\n    top: Math.random() * 95 + 2.5\n});\n\nexport const usePresent = ({ offset = 0, speed = 2 }) => {\n    const [ resetting, setResetting ] = useState(false);\n    const position = useRef(genRandomStart(offset));\n    const reset = () => {\n        setResetting(true);\n    }\n    \n    useEffect(() => {\n        if (resetting) {\n            const newStart = genRandomStart();\n            position.current.left = newStart.left;\n            position.current.top = newStart.top;\n            setTimeout(() => setResetting(false), 20);\n        }\n    }, [ resetting ])\n\n    const moveLeft = () => {\n        position.current = ({ left: position.current.left - speed, top: position.current.top });\n    }\n\n    const present = <Present left={position.current.left} top={position.current.top} resetting={resetting}/>;\n\n    return { reset, position, moveLeft, present };\n}","export default __webpack_public_path__ + \"static/media/Santa.28c3bfad.png\";","import Santa from '../../assets/Santa.png'\n\nexport const Player = (props) => {\n    const { scroll } = props;\n    return (\n        <div className=\"player\" style={{ top: `${scroll}%`}}><img src={Santa} alt=\"santa on his sleigh\" /></div>\n    );\n}\n","import { useEffect, useState } from 'react';\nimport { Snowflakes } from '../components/Snowflakes';\nimport { usePresent } from '../hooks/usePresent';\nimport { useScrollPercent } from '../hooks/useScrollPercent';\nimport { Player } from './entities/Player';\nimport './Game.scss';\n\nexport const Game = () => {\n    const scroll = useScrollPercent({ min: 2.5, max: 97.5});\n    const [ score, setScore ] = useState(0);\n    const [ misses, setMisses ] = useState(0);\n    const grabPresent = (points = 1) => setScore(score => score + points);\n    const missPresent = (points = 1) => setMisses(misses => misses + points);\n\n    const present1 = usePresent({ offset: 25, speed: 1.5 });\n    const present2 = usePresent({ offset: 75, speed: 1.5 });\n    const present3 = usePresent({ offset: 125, speed: 1.5 });\n\n    const rerender = useState(0);\n    const forceRerender = () => rerender[1](render => (render + 1) % 1000);\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            const checkCollision = (present) => {\n                if (present.position.current.left > 5 && present.position.current.left < 10) {\n                    if (Math.abs(present.position.current.top - scroll.current) < 5) {\n                        grabPresent();\n                        present.reset();\n                    }\n                }\n                if(present.position.current.left < -5) {\n                    missPresent();\n                    present.reset();\n                }\n            };\n            checkCollision(present1);\n            checkCollision(present2);\n            checkCollision(present3);\n            present1.moveLeft();\n            present2.moveLeft();\n            present3.moveLeft();\n            forceRerender();\n        }, 50);\n\n        return () => clearInterval(interval);\n        \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [ scroll, present1, present2, present3 ]);\n\n    return (\n        <div className=\"game\">\n            <Player scroll={scroll.current} />\n\n            {/* Presents */}\n            { present1.present }\n            { present2.present }\n            { present3.present }\n            {/* UI Elements */}\n            <Snowflakes />\n            <div className=\"score\">\n                <div className=\"saved\">{score} presents saved</div>\n                <div className=\"misses\">{misses} Christmases Ruined</div>\n            </div>\n        </div>\n    );\n}","import { useEffect, useRef } from \"react\"\n\nexport const useScrollPercent = ({min = 0, max = 100}) => {\n    const scroll = useRef(min);\n\n    useEffect(() => {\n        const listener = () => {\n            const ratio = (window.scrollY * 100) / window.innerHeight;\n            const lerpedRatio = Math.max(min, Math.min(max, ratio));\n            scroll.current = lerpedRatio;\n        }\n\n        window.addEventListener('scroll', listener);\n\n        return () => {\n            window.removeEventListener('scroll', listener);\n        }\n    }, [min, max]);\n\n    return scroll;\n}","import './App.scss';\nimport { Game } from './game/Game';\n\nfunction App() {\n  return (\n    <div id=\"App\">\n      <Game />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}