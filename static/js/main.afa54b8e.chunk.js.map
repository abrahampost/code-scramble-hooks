{"version":3,"sources":["components/Snowflakes.js","assets/Present.png","game/entities/Present.js","hooks/usePresent.js","assets/Santa.png","game/entities/Player.js","game/Game.js","hooks/useScrollPercent.js","App.js","index.js"],"names":["Snowflakes","className","Present","props","top","left","resetting","style","src","PresentImage","alt","genRandomStart","offset","Math","random","usePresent","speed","useState","setResetting","position","setPosition","useEffect","newStart","setTimeout","reset","moveLeft","present","Player","scroll","Santa","Game","min","max","useRef","listener","ratio","window","scrollY","innerHeight","lerpedRatio","current","addEventListener","removeEventListener","useScrollPercent","score","setScore","misses","setMisses","present1","present2","present3","interval","setInterval","checkCollision","abs","points","grabPresent","missPresent","clearInterval","App","id","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.afa54b8e.chunk.js","sourcesContent":["import './Snowflakes.css';\n\nexport const Snowflakes = () => \n    (\n    <div className=\"snowflakes\" aria-hidden=\"true\">\n        <div className=\"snowflake\">\n        ❅\n        </div>\n        <div className=\"snowflake\">\n        ❅\n        </div>\n        <div className=\"snowflake\">\n        ❆\n        </div>\n        <div className=\"snowflake\">\n        ❄\n        </div>\n        <div className=\"snowflake\">\n        ❅\n        </div>\n        <div className=\"snowflake\">\n        ❆\n        </div>\n        <div className=\"snowflake\">\n        ❄\n        </div>\n        <div className=\"snowflake\">\n        ❅\n        </div>\n        <div className=\"snowflake\">\n        ❆\n        </div>\n        <div className=\"snowflake\">\n        ❄\n        </div>\n    </div>\n);","export default __webpack_public_path__ + \"static/media/Present.79356040.png\";","import PresentImage from '../../assets/Present.png';\n\nexport const Present = (props) => {\n    const { top, left } = props;\n\n    return (\n        <div className={\"present\" + (props.resetting ? ' resetting' : '')} style={{top: `${top}%`, left: `${left}%`}}><img src={PresentImage} alt=\"present that fell of santas sleigh\" /></div>\n    );\n}","import { useEffect, useState } from \"react\";\nimport { Present } from \"../game/entities/Present\";\n\nconst genRandomStart = (offset = 0) => ({\n    left: offset + Math.random() * 25 + 100,\n    top: Math.random() * 95 + 2.5\n});\n\nexport const usePresent = ({ offset = 0, speed = 2 }) => {\n    const [ resetting, setResetting ] = useState(false);\n    const [ position, setPosition ] = useState(genRandomStart(offset));\n    const reset = () => {\n        setResetting(true);\n    }\n    \n    useEffect(() => {\n        if (resetting) {\n            const newStart = genRandomStart();\n            setPosition(position => ({left: newStart.left, top: newStart.top}));\n            setTimeout(() => setResetting(false), 20);\n        }\n    }, [ resetting ])\n\n    const moveLeft = () => {\n        if (!resetting) setPosition(position => ({ left: position.left - speed, top: position.top }));\n    }\n\n    const present = <Present left={position.left} top={position.top} resetting={resetting}/>;\n\n    return { reset, position, moveLeft, present };\n}","export default __webpack_public_path__ + \"static/media/Santa.28c3bfad.png\";","import Santa from '../../assets/Santa.png'\n\nexport const Player = (props) => {\n    const { scroll } = props;\n    return (\n        <div className=\"player\" style={{ top: `${scroll}%`}}><img src={Santa} alt=\"santa on his sleigh\" /></div>\n    );\n}\n","import { useEffect, useState } from 'react';\nimport { Snowflakes } from '../components/Snowflakes';\nimport { usePresent } from '../hooks/usePresent';\nimport { useScrollPercent } from '../hooks/useScrollPercent';\nimport { Player } from './entities/Player';\nimport './Game.scss';\n\nexport const Game = () => {\n    const scroll = useScrollPercent({ min: 2.5, max: 97.5});\n    const [ score, setScore ] = useState(0);\n    const [ misses, setMisses ] = useState(0);\n    const grabPresent = (points = 1) => setScore(score => score + points);\n    const missPresent = (points = 1) => setMisses(misses => misses + points);\n\n    const present1 = usePresent({ offset: 25, speed: 1.5 });\n    const present2 = usePresent({ offset: 75, speed: 1.5 });\n    const present3 = usePresent({ offset: 125, speed: 1.5 });\n\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            const checkCollision = (present) => {\n                if (present.position.left > 5 && present.position.left < 10) {\n                    if (Math.abs(present.position.top - scroll.current) < 5) {\n                        grabPresent();\n                        present.reset();\n                    }\n                }\n                if(present.position.left < -5) {\n                    missPresent();\n                    present.reset();\n                }\n            };\n            checkCollision(present1);\n            checkCollision(present2);\n            checkCollision(present3);\n            present1.moveLeft();\n            present2.moveLeft();\n            present3.moveLeft();\n        }, 50);\n\n        return () => clearInterval(interval);\n        \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [ scroll, present1, present2, present3 ]);\n\n    return (\n        <div className=\"game\">\n            <Player scroll={scroll.current} />\n\n            {/* Presents */}\n            { present1.present }\n            { present2.present }\n            { present3.present }\n            {/* UI Elements */}\n            <Snowflakes />\n            <div className=\"score\">\n                <div className=\"saved\">{score} presents saved</div>\n                <div className=\"misses\">{misses} Christmases Ruined</div>\n            </div>\n        </div>\n    );\n}","import { useEffect, useRef } from \"react\"\n\nexport const useScrollPercent = ({min = 0, max = 100}) => {\n    const scroll = useRef(min);\n\n    useEffect(() => {\n        const listener = () => {\n            const ratio = (window.scrollY * 100) / window.innerHeight;\n            const lerpedRatio = Math.max(min, Math.min(max, ratio));\n            scroll.current = lerpedRatio;\n        }\n\n        window.addEventListener('scroll', listener);\n\n        return () => {\n            window.removeEventListener('scroll', listener);\n        }\n    }, [min, max]);\n\n    return scroll;\n}","import './App.scss';\nimport { Game } from './game/Game';\n\nfunction App() {\n  return (\n    <div id=\"App\">\n      <Game />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}